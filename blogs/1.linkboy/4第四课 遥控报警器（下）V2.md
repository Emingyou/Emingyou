# 第四课 遥控报警器（下）  
——用红外遥控器控制蜂鸣器与红蓝LED灯  

---

## **课程目标**  
1. **掌握蜂鸣器控制**：学习如何通过Arduino驱动蜂鸣器发声。  
2. **多设备联动**：结合红蓝LED灯与蜂鸣器，制作红外遥控报警器。  
3. **编程进阶**：使用条件判断语句实现多按钮控制功能。  
4. **应用拓展**：理解报警器在家庭安防、工业监控等场景的实际应用。  

---

## **硬件清单与功能说明**  
| 名称             | 数量 | 作用与注意事项                                               |
| ---------------- | ---- | ------------------------------------------------------------ |
| Arduino UNO主板  | 1    | 主控核心，处理红外信号并控制外设。                           |
| 红色LED灯        | 1    | 长脚为正极（+），短脚为负极（-），串联电阻保护。             |
| 蓝色LED灯        | 1    | 同红色LED，用于多色警示效果。                                |
| 电阻             | 2    | 限流保护，防止LED或蜂鸣器过载。                              |
| 有源蜂鸣器       | 1    | 内置振荡电路，通电即发声，正极接电源，负极接控制针脚。       |
| 红外接收器       | 1    | 接收遥控信号，3个引脚（VCC、GND、OUT）。                     |
| 红外遥控器       | 1    | 发送不同编码信号，控制报警器功能。                           |
| 面包板           | 1    | 提供无焊接电路连接，横向孔位内部连通。                       |
| 杜邦线（公对公） | 若干 | 连接主板、LED、蜂鸣器和红外接收器。（推荐使用红色代表正极，黑色代表负极便于区分） |
| USB数据线        | 1    | 上传程序并为Arduino供电。                                    |

---

## **第一部分：硬件原理与功能解析**  
### **1. 蜂鸣器的工作原理**  
- **有源蜂鸣器**：内部集成振荡电路，通电后直接发声，频率固定（如2.5kHz）。  
- **控制方式**：通过数字针脚输出高电平启动，低电平关闭。  

### **2. 红蓝LED警示设计**  
- **双色警示**：红色代表紧急警报，蓝色代表待机或低风险提示。  
- **电路连接**：两盏LED分别连接不同数字针脚（如7号红、8号蓝），独立控制。  

### **3. 红外遥控信号解码**  
- **编码匹配**：每个按钮对应唯一编码，Arduino通过接收器解码后执行指令。  
- **应用逻辑**：  
  - **按钮A**：触发红蓝LED交替闪烁，蜂鸣器长鸣。  
  - **按钮B**：关闭所有警报。  

### **4.目标系统分析：**  

- **传感器：**红外接收器
- **控制器：**Arduino UNO 主板
- **执行器：**红蓝LED灯、有源蜂鸣器

---

## **第二部分：硬件连接与电路设计**  
### **1. 完整电路连接步骤**  
1. **LED部分**：  
   - 红色LED正极 → 数字针脚7 → 电阻 → GND。  
   - 蓝色LED正极 → 数字针脚8 → 电阻 → GND。  
2. **蜂鸣器部分**：  
   - 蜂鸣器正极 → 数字针脚9。  
   - 蜂鸣器负极 → GND。  
3. **红外接收器部分**：  
   - VCC → 5V，GND → GND，OUT → 数字针脚2。  

✅ **电路示意图**：  
```  
Arduino UNO  
│  
├─ 7号针脚 → 红LED正极 → 电阻 → GND  
├─ 8号针脚 → 蓝LED正极 → 电阻 → GND  
├─ 9号针脚 → 蜂鸣器正极  
└─ 2号针脚 → 红外接收器OUT  
   红外接收器VCC → 5V  
   红外接收器GND → GND  
```

---

## **第三部分：Linkboy编程——多设备联动控制**  
### **1. 虚拟电路搭建**  
1. 打开Linkboy，拖入以下模块：  
   - **Arduino UNO主板**（主控板 → Arduino Nano/Uno）。  
   - **红/蓝LED灯**（LED和数码点阵 → 选择颜色）。  
   - **有源蜂鸣器**（驱动输出 → 声音输出）。  
   - **红外接收器**（键盘和遥控 → 红外接收器）。  
   - **电阻**（辅助元件 → 分压电阻）。  
2. **连线步骤**：  
   - 主板**7号针脚** → 红LED正极 → 电阻 → GND。  
   - 主板**8号针脚** → 蓝LED正极 → 电阻 → GND。  
   - 主板**9号针脚** → 蜂鸣器正极 → 蜂鸣器负极 → GND。  
   - 主板**2号针脚** → 红外接收器OUT → 接收器VCC → 5V → 接收器GND → GND。  

### **2. 编写报警器控制程序**  
1. **主程序逻辑**：  

   ```plaintext  
   当接收到遥控器信号时：  
     如果按下“按钮1”：  
       
        红蓝LED交替闪烁，蜂鸣器长鸣  
     如果按下“按钮2”：  
     
        关闭LED和蜂鸣器  
   ```
2. **具体操作**：  

   - 使用“红外接收器”模块匹配按钮编码。  
   - 添加“条件判断”模块控制LED灯与蜂鸣器状态。  
   - 在“反复执行10次”中，切换LED状态并触发蜂鸣器。  
3. **仿真测试**：点击“仿真”，用虚拟遥控器测试报警功能。  

---

## **第四部分：实战操作——连接真实电路**  
### **1. 硬件连接步骤**  
1. **LED与电阻**：  
   - 红、蓝LED正极分别接数字针脚7、8，负极通过电阻接GND。  
2. **蜂鸣器**：  
   - 正极接数字针脚9，负极接GND。  
3. **红外接收器**：  
   - VCC接5V，GND接GND，OUT接数字针脚2。  

✅ **检查要点**：  
- LED正负极未接反，蜂鸣器方向正确。  
- 红外接收器与遥控器对准，避免强光干扰。  
- 这一步骤一定要认真完成，如果连接错误，主板在通电后很可能会烧坏，一定要注意安全！

### **2. 上传程序**  
1. 用USB线连接Arduino与电脑。  
2. 在Linkboy中选择正确串口号，点击“上传”。  
3. 测试效果：  
   - 按下遥控器“按钮1”，红蓝LED交替闪烁，蜂鸣器鸣响。  
   - 按下“按钮2”，所有设备关闭。  

---

## **第五部分：常见问题与解决方法**  
| 问题           | 可能原因               | 解决方案                               |
| -------------- | ---------------------- | -------------------------------------- |
| 蜂鸣器无声     | 正负极接反或针脚错误   | 检查蜂鸣器是否接至9号针脚。            |
| LED不交替闪烁  | 程序逻辑未循环切换状态 | 在“反复执行”中添加延时和状态翻转指令。 |
| 遥控信号不响应 | 按钮编码未正确匹配     | 选择如果指令编码。                     |

---

## **第六部分：知识延伸与创意挑战**  
### **1. 报警器的实际应用**  
- **家庭安防**：监测门窗异常，触发声光警报并发送通知至手机。  
- **车辆防盗**：车辆震动时触发报警，吓阻盗窃行为。  

### **2. 动手挑战**  
- **任务1**：添加温度传感器，当温度超标时自动触发报警。  
- **任务2**：设计“SOS求救模式”，LED按三短三长三短闪烁。  

---

## **课后作业**  
1. **实践任务**：完成遥控报警器制作，录制功能演示视频。  
2. **思考题**：如何用同一遥控器控制多个报警器同步工作？  

---

**下节预告**：结合舵机，制作旋转系统！  

---
**作者寄语**：科技不仅是工具，更是守护安全的伙伴。愿你的每一次创新，都能为生活增添一份安心与智慧！ 🔔🚨