# 第五课 自动举牌机（上）  
——用Arduino控制舵机实现自动摇摆  

---

## **课程目标**  
1. **认识舵机**：了解180度舵机的工作原理与特性。  
2. **掌握基础控制**：学习如何通过Arduino和Linkboy控制舵机转动。  
3. **动手实践**：完成舵机自动摇摆的电路连接与程序编写。  
4. **拓展思维**：探索舵机在机器人、智能设备中的应用场景。  

---

## **硬件清单与功能说明**  
| 名称             | 数量 | 作用与注意事项                                               |
| ---------------- | ---- | ------------------------------------------------------------ |
| Arduino UNO主板  | 1    | 主控核心，通过PWM信号控制舵机角度。                          |
| 180度舵机        | 1    | 可精确控制0°-180°旋转，需连接PWM针脚（如9号）。              |
| 面包板           | 1    | 提供无焊接电路连接，横向孔位内部连通。                       |
| 杜邦线（公对公） | 若干 | 连接主板与舵机。（推荐使用红色代表正极，黑色代表负极便于区分） |
| USB数据线        | 1    | 上传程序并为Arduino供电。                                    |

---

## **第一部分：舵机原理与功能解析**  
### **1. 舵机是什么？**  
- **功能**：舵机是一种能精确控制转动角度的电机，常用于机器人关节、遥控模型等。  
- **角度限制**：180度舵机只能转动半圈（0°-180°），360度舵机可连续旋转（需特殊控制）。  

### **2. 舵机内部结构**  
- **核心组件**：直流电机、减速齿轮组、电位器（角度传感器）、控制电路。  
- **工作原理**：  
  
  1. Arduino发送PWM信号（脉冲宽度调制）到舵机。  
  2. 控制电路根据信号宽度调整电机转动方向和角度。  
  3. 电位器实时反馈角度，确保精准定位。
  
  

---

## **第二部分：硬件连接与电路设计**  
### **1. 舵机引脚说明**  
- **信号线（橙色）**：接Arduino PWM针脚（如9号）。  
- **电源正极（红色）**：接5V电源。  
- **电源负极（棕色）**：接GND。  

### **2. 连接步骤**  
1. 将舵机信号线（橙色）连接到Arduino **9号针脚**。  
2. 舵机电源正极（红色）接Arduino **5V**。  
3. 舵机电源负极（棕色）接Arduino **GND**。  

✅ **电路示意图**：  
```  
Arduino UNO  
│  
├─ 9号针脚 → 舵机信号线（橙色）  
├─ 5V → 舵机正极（红色）  
└─ GND → 舵机负极（棕色）  
```

---

## **第三部分：Linkboy编程——舵机自动摇摆**  
### **1. 虚拟电路搭建**  
1. 打开Linkboy，拖入以下模块：  
   - **Arduino UNO主板**（主控板 → Arduino Nano/Uno）。  
   - **舵机**（驱动输出 → 马达和舵机 → 180度舵机）。  
2. **连线步骤**：  
   - 主板**9号针脚** → 舵机信号线。  
   - 舵机正极 → 主板**5V**。  
   - 舵机负极 → 主板**GND**。  

### **2. 编写舵机摆动程序**  
1. **设置舵机角度范围**：  
   
   - 在功能指令块中点击舵机模块，选择舵机|角度
2. **主程序逻辑**：  
   
   ```plaintext  
   设置舵机转速值（如100）
   反复执行：  
     舵机转动至0° → 延时2秒  
     舵机转动至180° → 延时2秒  
   ```
3. **具体操作**：  
   
   - 拖入“舵机角度控制”模块，设置目标角度。  
   - 添加“延时”模块，控制转动间隔。  
4. **仿真测试**：点击“仿真”，观察虚拟舵机是否规律摆动。  

---

## **第四部分：实战操作——连接真实电路**  
### **1. 硬件连接步骤**  
1. **舵机接线**：  
   - 橙色线 → 9号针脚，红色线 → 5V，棕色线 → GND。  

✅ **检查要点**：  

- 检查供电：确保舵机直接从Arduino取电，避免过载。

- 这一步骤一定要认真完成，如果连接错误，主板在通电后很可能会烧坏，一定要注意安全！  

### **2. 上传程序**  
1. 用USB线连接Arduino与电脑。  
2. 在Linkboy中选择正确串口号，点击“上传”。  
3. 观察结果：舵机应开始0°-180°往复摆动。  

---

## **第五部分：常见问题与解决方法**  
| 问题         | 可能原因             | 解决方案                                         |
| ------------ | -------------------- | ------------------------------------------------ |
| 舵机不转动   | 针脚接错或供电不足   | 检查信号线是否接至PWM针脚，确保5V和GND连接正确。 |
| 舵机抖动异常 | PWM信号不稳定        | 在程序中添加短暂延时，或在电源端并联电容。       |
| 角度偏移     | 机械阻力或初始化问题 | 重新校准舵机中位，或在代码中调整角度补偿值。     |

---

## **第六部分：知识延伸与创意挑战**  
### **1. 舵机的实际应用**  
- **智能家居**：控制窗帘开合、宠物喂食器开关。  
- **机器人**：驱动机械臂抓取物体或机器人腿部运动。  

### **2. 动手挑战**  
- **任务1**：修改程序，让舵机以不同速度摆动（如0.5秒完成转动）。  
- **任务2**：结合按钮，制作“微型门锁”。  

---

## **课后作业**  
1. **实践任务**：完成舵机自动摇摆装置，录制演示视频。  
2. **思考题**：如何用两个舵机实现“挥手”动作？  

---

**下节预告**：手动控制这个可以选择的舵机，让他向我们所想要的 角度旋转！  

---
**作者寄语**：舵机是机械与电子的完美结合，每一次角度的调整都是智慧的体现。愿你的创意像舵机一样精准而充满力量！ 🤖⚙️