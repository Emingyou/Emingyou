# 第十课 遥控小车（下）  
——制作红外遥控智能小车  

---

## **课程目标**  
1. **多组件协同控制**：掌握红外遥控、电机驱动、蜂鸣器的联动逻辑。  
2. **完整系统搭建**：完成小车的物理组装与电路连接。  
3. **编程实践**：通过Linkboy实现红外遥控控制小车运动与发声。  
4. **应用拓展**：探索遥控小车在物流、环境监测等领域的实际应用。  

---

## **硬件清单与功能说明**  
| 名称                     | 数量 | 作用与注意事项                                               |
| ------------------------ | ---- | ------------------------------------------------------------ |
| Arduino UNO主板          | 1    | 主控核心，处理红外信号并控制电机与蜂鸣器。                   |
| L298N电机驱动板          | 1    | 驱动双电机，支持正反转与调速。                               |
| 130直流电机              | 2    | 安装车轮，分别控制小车左右转向。                             |
| 红外接收器               | 1    | 接收遥控信号，3个引脚（VCC、GND、OUT）。                     |
| 红外遥控器               | 1    | 发送指令，按键包括方向键和功能键。                           |
| 蜂鸣器                   | 1    | 按键触发时发声，增强交互体验。                               |
| 小车底板                 | 1    | 固定所有元件，建议选择轻量化材质。                           |
| 车轮                     | 2    | 安装于电机轴，确保与地面摩擦力适中。                         |
| 电池盒（6V）             | 1    | 为系统供电，避免使用Arduino USB供电以提升动力。              |
| 杜邦线（公对公、公对母） | 若干 | 连接主板、驱动板与传感器。（推荐使用红色代表正极，黑色代表负极便于区分） |

---

## **第一部分：系统原理与设计思路**  
### **1. 小车运动控制逻辑**  
- **前进/后退**：左右电机同方向转动（正转或反转）。  
- **左转/右转**：一侧电机正转，另一侧反转（差速转向）。  
- **蜂鸣器触发**：按下遥控器功能键（如“OK”键）时发声。  

### **2. 红外遥控信号解码**  
**编码匹配**：每个按键对应唯一编码，Arduino通过接收器解码后执行指令。  

**按键功能分配**：  

**方向键↑↓←→**：控制小车移动方向。  

**OK键**：触发蜂鸣器鸣响。  

### 3.**目标系统设计**

- **传感器**：红外遥控器
- **执行器**：Arduino UNO主板
- **执行器**：130直流电机  蜂鸣器

---

## **第二部分：硬件连接与电路设计**  
### **1. 核心接线步骤**  
1. **电机驱动板连接**：  
   - IN1 → 7号针脚，IN2 → 6号针脚（左电机）。  
   - IN3 → 5号针脚，IN4 → 4号针脚（右电机）。  
   - OUTA1,OUTA2→ 马达1（左电机）,OUTB1,OUTB2→ 马达2（右电机）
2. **红外接收器**：  
   - VCC → 5V，GND → GND，OUT → 2号针脚。  
3. **蜂鸣器**：  
   - 正极 → 8号针脚，负极 → GND。  

✅ **电路示意图**：  
```  
Arduino UNO  
│  
├─ 2号针脚 → 红外接收器OUT    
├─ 4-7号针脚 → IN1-IN4（电机方向控制）→ 左右马达  
├─ 8号针脚 → 蜂鸣器正极  
├─ 5V → 红外接收器VCC  
└─ GND → 所有元件共地  
```

---

## **第三部分：Linkboy编程——遥控与运动控制**  
### **1. 虚拟电路搭建**  
1. 打开Linkboy，拖入以下模块：  
   - **Arduino UNO主板**（主控板 → Arduino Nano/Uno）。  
   - **L298N驱动板**（驱动输出 → 电机驱动器 → L298N）。  
   - **红外接收器**（键盘和遥控 → 红外接收器）。  
   - **蜂鸣器**（驱动输出 → 声音输出 → 有源蜂鸣器）。  
   - **红外遥控器**（按键与遥控→红外遥控→遥控器）。
   - **马达驱动器**（驱动输出→马达与舵机→马达）
2. **连线步骤**：  
   - 主板**2号针脚** → 红外接收器OUT。  
   - 主板**4-7号针脚** → 驱动板IN1-IN4。
   - 主板8号引脚→ 蜂鸣器正极
   - GND→ 元件共地 
   - 马达驱动器OUTA1,OUTA2,OUTB1,OUTB2→ 左右电机

### **2. 编写控制程序**  
1. **主程序逻辑**：  
   
   ```plaintext  
   反复执行：  
     如果遥控器|按键值== → 根据按键执行以下操作：  
       ↑遥控器上方向键：左电机正转，右电机正转（前进）  
       ↓遥控器下方向键：左电机反转，右电机反转（后退）  
       ←遥控器左方向键：左电机反转，右电机正转（左转）  
       →遥控器右方向键：左电机正转，右电机反转（右转）  
       OK键：蜂鸣器发生  
       无按键按下：停止所有电机与蜂鸣器  
   ```
2. **具体操作**：    
   
   - 添加多个“条件判断”模块，分别对应方向键与功能键。  
   - 仿真测试：用虚拟遥控器测试小车运动与蜂鸣器响应。  

---

## **第四部分：实战操作——组装与调试**  
### **1. 物理组装步骤**  
1. **固定元件**：  
   - 将Arduino主板、驱动板、电池盒固定在小车底板上。  
   - 安装电机与车轮，确保左右对称。  
2. **线路整理**：  
   - 使用扎带或胶带固定导线，避免缠绕影响运动。  

✅ **检查要点**：  
- 车轮与电机轴紧密连接，防止打滑。  
- 红外接收器朝向车头，确保信号接收无遮挡。  
- 这一步骤一定要认真完成，如果连接错误，主板在通电后很可能会烧坏，一定要注意安全！

### **2. 上传程序与测试**  
1. 用USB线连接Arduino与电脑，上传程序后断开。  
2. 装入电池，测试遥控功能：  
   - 按下↑键，小车应直线前进；松开后立即停止。  
   - 按下←键，小车左转；按下OK键，蜂鸣器鸣响。  

---

## **第五部分：常见问题与解决方法**  
| 问题         | 可能原因                 | 解决方案                              |
| ------------ | ------------------------ | ------------------------------------- |
| 小车单侧不动 | 电机接线错误或驱动板故障 | 检查IN1-IN4是否接反，更换驱动板测试。 |
| 遥控信号延迟 | 红外接收器遮挡或距离过远 | 调整接收器角度，遥控器对准接收器。    |
| 蜂鸣器不响   | 针脚接错或程序未触发     | 检查8号针脚连接，确认按键编码匹配。   |

---

## **第六部分：知识延伸与创意挑战**  
### **1. 遥控小车的实际应用**  
- **物流运输**：在仓库中自动搬运货物，提升效率。  
- **环境探测**：加装温湿度传感器，监测危险区域环境数据。  

### **2. 动手挑战**  
- **任务1**：设计“灯光指示系统”，左转亮左灯，右转亮右灯。  
- **任务2**：添加超声波传感器，实现“自动避障”功能。

---

## **课后作业**  
1. **实践任务**：完成遥控小车制作，录制功能演示视频。  
2. **思考题**：如何通过手机蓝牙替代红外遥控器控制小车？  

---

**全系列总结**：从点亮第一盏LED到制作智能小车，你已掌握Arduino的核心技能！电子世界的大门永远敞开，愿你的创造力永不停歇！ 🚀🔧  

---
**作者寄语**：科技不仅是工具，更是实现梦想的桥梁。愿你的每一份努力，都能在代码与电路中绽放光彩！ 🌟🚗